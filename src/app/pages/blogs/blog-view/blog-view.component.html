<ng-container *ngIf="blogdata">
  <div class="blog-complete-line">
    <div id="blogCompleteLine"></div>
  </div>
  <div id="blogOuterSection">
    <section class="blog-banner" [defaultImage]="commonService.largeblogPlaceholder"
      [offset]="commonService.lazyloadoffset" [lazyLoad]="blogdata?.sImage | resizeImage:['s']">
      <ng-container *ngIf="blogdata?.eType == 'Video'">
        <div class="video-container" [ngClass]="{'show': isplay}">
          <video controls="true" controlsList="nodownload" #videoPlayer>
            <source [src]="commonService.s3Url+blogdata?.sVideo | safehtml:['video']" type="video/mp4"
              *ngIf="blogdata?.sVideo">
              {{'Blog_Module.browser_not_support_video_tag' | translate}}
          </video>
        </div>
        <button class="video-play-btn" (click)="videoplay()"></button>
      </ng-container>
      <div class="banner-inner">
        <div class="container">
          <div class="banner-desc">
            <h1 class="white-text">{{blogdata?.sTitle}}</h1>
            <div class="author-info d-flex justify-content-between align-items-center">
              <p class="author"><a>{{blogdata?.iId?.sFirstName}} {{blogdata?.iId?.sLastName}}
                </a>{{blogdata?.dCreatedAt | amFromUtc | amLocal | amTimeAgo}}</p>
              <ul class="count-list">
                <li>
                  <p class="comment white-icon"><span>{{blogdata?.nCommentsCount}}</span></p>
                </li>
                <li>
                  <p class="view white-icon"><span>{{blogdata?.nViewCounts}}</span></p>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="common-section blog-content-section">
      <div class="container">
        <div class="row sidebar-row">
          <div class="content-col">
            <div class="blog-inner d-flex">
              <div class="social-block">
                <ul class="sticky-social-list">
                  <li><button (click)="sharablelink('facebook')"><img
                        src="/assets/images/blog/facebook-share-icon-color.svg"></button></li>
                  <li><button (click)="sharablelink('twitter')"><img
                        src="/assets/images/blog/twitter-share-icon-color.svg"></button></li>
                  <li><button (click)="sharablelink('whatsapp')"><img
                        src="/assets/images/blog/whatsapp-share-icon-color.svg"></button></li>
                </ul>
              </div>
              <div class="blog-content-block">
                <div class="blog-content" [innerHTML]="blogdata?.sDescription | safehtml">
                </div>
                <ul class="tag-list" *ngIf="blogdata?.aTags && blogdata?.aTags.length > 0">
                  <li *ngFor="let item of blogdata?.aTags">
                    <a *ngIf="item.sport == 'Cricket'"
                      [routerLink]="(item.type == 'Player') ? ['/cricket/player',(item.id | splitID), ((item?.name | split ) | slugify) ] : ( (item.type == 'Tournament') ? ['/cricket/tournament',(item.id | splitID), (item.name | slugify)]  : ['/cricket/team',(item.id | splitID), (item.name | slugify)])">
                      {{item?.name | split}}
                    </a>
                    <a *ngIf="item.sport == 'Kabaddi'"
                      [routerLink]="(item.type == 'Player') ? ['/kabaddi/player',(item.id), ((item?.name | split ) | slugify) ] :  ['/kabaddi']">
                      {{item?.name | split}}
                    </a>
                  </li>
                </ul>
                <div class="blog-author d-flex align-items-center">
                  <div class="author-img" [lazyLoad]="blogdata?.iId?.sProfilePicture | resizeImage:['s']"
                    [offset]="commonService.lazyloadoffset" [defaultImage]="commonService.writerPlaceholder"></div>
                  <div class="author-desc">
                    <h6>
                      <a
                        [routerLink]="['/writer', blogdata?.iId?._id ]">{{blogdata?.iId?.sFirstName}} {{blogdata?.iId?.sLastName}}</a>
                    </h6>
                    <p>{{blogdata?.iId?.sBio}}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="sidebar-col">
            <div class="sticky-sidebar">
              <app-custom-ads-widget [type]="'Banner'"></app-custom-ads-widget>
              <div class="common-stories-widget common-shadow rounded-box">
                <h5>{{'Blog_Module.Readlist' | translate}}</h5>
                <ul class="common-list">
                  <li *ngFor="let item of widgetblogs | slice:0:5"><a [state]="{ id: item._id }"
                      [routerLink]="['/',(item.eType |lowercase) , item.sSlug ]">{{item.sTitle}}</a></li>
                </ul>
              </div>
              <app-custom-ads-widget [type]="'Rectangle'"></app-custom-ads-widget>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
  <section class="common-section comments-section">
    <div class="container">
      <div class="row sidebar-row">
        <div class="content-col">
          <div class="comments-inner">
            <h4>{{'Blog_Module.Comments' | translate}}</h4>
            <div class="write-comments d-flex align-items-start">
              <img class="commenter-img" [lazyLoad]="socialUser?.photoUrl"
                [defaultImage]="commonService.commenterPlaceholder" alt="commenter">
              <form class="d-flex align-items-center">
                <textarea class="expand" placeholder="Add a commentâ€¦" [(ngModel)]="usercommentvalue"
                  [ngModelOptions]="{standalone:true}"></textarea>
                <button type="submit" class="theme-btn" (click)="clicksubmit()"
                  *ngIf="isAuth$">{{'Blog_Module.Post' | translate}}<span></span></button>
                <button type="submit" class="theme-btn" (click)="openmodal()"
                  *ngIf="!isAuth$">{{'Blog_Module.Login' | translate}}<span></span></button>
              </form>
              <div class="login-toast active d-flex align-items-center" *ngIf="!isloggedin">
                <img src="assets/images/blog/error-icon.svg">
                <p class="dark-text">{{'Blog_Module.must_be_login_text' | translate}}</p>
              </div>
              <div class="login-toast active d-flex align-items-center" *ngIf="isNocomment">
                <img src="assets/images/blog/error-icon.svg">
                <p class="dark-text">{{'Blog_Module.Please_enter_your_comment' | translate}}</p>
              </div>
            </div>
            <div class="comment-list" *ngIf="blogcomments?.length != 0">
              <div class="comment-item d-flex align-items-start" *ngFor="let comment of blogcomments">
                <img class="commenter-img" alt="commenter" [defaultImage]="commonService.commenterPlaceholder"
                  [lazyLoad]="comment?.sProfilePicture">
                <div class="comment-desc">
                  <div class="d-flex justify-content-between">
                    <p class="commenter-info"><span class="light-blue-color">{{comment.sFirstName}}
                        {{comment.sLastName}}</span>
                    </p>
                  </div>
                  <p>{{comment.sComment}}</p>
                  <form *ngIf="comment._id == commentid && hidetextfield == true">
                    <textarea class="form-control" #InputComment>{{comment.sComment}}</textarea>
                 
                  <ul class="cmt-act-btn-list">
                    <li><button class="cmt-act-btn" (click)="savecomment(commentid,InputComment.value)">Save</button></li>
                    <li><button class="cmt-act-btn red-btn" (click)="cancelcomment()">Cancel</button></li>
                  </ul>
                 </form >
                  <ul class="comment-action" >
                    <li>{{ comment?.dCreatedAt | amFromUtc | amLocal | amTimeAgo}}</li>
                        <li (click)="editcomment(comment._id)" *ngIf="comment.iId == userId"><a>Edit
                        </a></li>
                        <li *ngIf="comment.iId == userId"><a (click)="open(content,comment._id)">Delete</a></li>
                    </ul> 
                </div>
              </div>
              <div class="text-center">
                <button class="theme-btn down-btn" (click)="viewmorecomments()" *ngIf="isLoadMoreComments">{{'Blog_Module.VIEW_MORE' | translate}}<span></span></button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</ng-container>


<ng-template #content let-modal>
  <div class="comment-delete-modal">
    <div class="modal-header">
      <h5 class="modal-title" id="modal-basic-title">{{'Blog_Module.Delete_Comment' | translate}}</h5>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      {{'Blog_Module.want_to_delete' | translate}}
    </div>
    <div class="modal-footer">
      <ul class="cmt-act-btn-list">
        <li><button class="cmt-act-btn" (click)="modal.close('Save click')">{{'Blog_Module.Keep' | translate}}</button></li>
        <li><button class="cmt-act-btn red-btn" (click)="modal.close('Save click')">{{'Blog_Module.Delete' | translate}}</button></li>
      </ul>
    </div>
  </div>
</ng-template>
