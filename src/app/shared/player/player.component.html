<section class="common-section cricket-recentnews recentnews-section">
  <div class="container">
    <div class="row sidebar-row">

      <div class="content-col">

        <app-loader *ngIf="loading"></app-loader>
        <app-no-data-widget *ngIf="!loading && (!playerData)" [sport]="sport"></app-no-data-widget>

        <div *ngIf="playerData"
          class="common-title-btn big-title-btn tab-title-btn d-flex justify-content-between align-items-center">
          <h1 *ngIf="sport == 'cricket'">{{playerData?.player?.name | split}}</h1>
          <h1 *ngIf="sport == 'kabaddi'">{{playerData?.fullname}}</h1>
          <h1 *ngIf="sport == 'soccer'">{{playerData?.player?.name | split}}</h1>
          <app-favourites-widget
            [value]=" sport == 'cricket' ?  {id:playerid,type:'player',sport:'cricket',name:playerData?.player?.name | split} : sport == 'kabaddi' ?  {id:playerData.pid,sport:'kabaddi',teamid:teamid,type:'player',name:playerData?.fullname} : sport == 'soccer' ? {id:playerid,type:'player',sport:'soccer',name:playerData?.player?.name | split} : ''">
          </app-favourites-widget>
        </div>

        <ngb-tabset class="common-tabs" *ngIf="playerData">
          <ngb-tab>

            <!-- Profile Section-->
            <ng-template ngbTabTitle>{{ 'Shared_module.profile' | translate }}</ng-template>
            <ng-template ngbTabContent>
              <section class="player-profile d-flex" *ngIf="sport == 'cricket'">
                <div class="player-pic common-shadow rounded-box">
                  <img class="" alt="" [lazyLoad]="playerData?.player?.id | playerimage:['m']"
                    [offset]="commonService.lazyloadoffset" [defaultImage]="cricketService.playerplaceholder">
                </div>
                <div class="player-info d-flex common-shadow rounded-box" *ngIf="playerData?.player">
                  <div class="info-col">
                    <ng-container
                      *ngTemplateOutlet="playerInfoCardContent;context:{ title: ('Contact_us.Full_Name' | translate), value: playerData?.player.full_name ? playerData?.player.full_name : playerData?.player.name }">
                    </ng-container>
                    <ng-container
                      *ngTemplateOutlet="playerInfoCardContent;context:{ title: ('Shared_Module2.Born' | translate), value: playerData?.player?.date_of_birth | date }">
                    </ng-container>
                    <ng-container
                      *ngTemplateOutlet="playerInfoCardContent;context:{ title: ('Shared_Module2.Nationality' | translate), value: playerData?.player?.nationality }">
                    </ng-container>
                  </div>
                  <div class="info-col">
                    <ng-container
                      *ngTemplateOutlet="playerInfoCardContent;context:{ title: ('Shared_Module2.Batting_Style' | translate), value: playerData?.player?.batting_style | stringunder }">
                    </ng-container>
                    <ng-container
                      *ngTemplateOutlet="playerInfoCardContent;context:{ title: ('Shared_Module2.Bowling_Style' | translate), value: playerData?.player?.bowling_style | stringunder }">
                    </ng-container>
                    <ng-container
                      *ngTemplateOutlet="playerInfoCardContent;context:{ title: ('Shared_Module2.Role' | translate), value: playerData?.player?.type | stringunder }">
                    </ng-container>
                  </div>
                  <!-- <div class="info-col">
                      <p class="light-title">jersey no</p>
                      <p>7</p>
                    </div> -->
                </div>
              </section>
              <section class="player-profile d-flex" *ngIf="sport == 'kabaddi'">
                <div class="player-pic">
                  <img class="common-shadow rounded-box" alt="playerData?.fullname"
                    [lazyLoad]="commonService.s3Url+'players/kabaddi-'+teamid+'.svg'"
                    [offset]="commonService.lazyloadoffset" [defaultImage]="cricketService.playerplaceholder">
                </div>
                <div class="player-info d-flex common-shadow rounded-box">
                  <div class="info-col">
                    <ng-container
                      *ngTemplateOutlet="playerInfoCardContent;context:{ title: ('Contact_us.Full_Name' | translate), value: playerData?.fullname  }">
                    </ng-container>
                    <ng-container
                      *ngTemplateOutlet="playerInfoCardContent;context:{ title: ('Shared_Module2.Born' | translate), value: playerData?.birthdate | date }">
                    </ng-container>
                    <ng-container
                      *ngTemplateOutlet="playerInfoCardContent;context:{ title:('Shared_Module2.Nationality' | translate), value: playerData?.nationality }">
                    </ng-container>
                  </div>
                  <div class="info-col">
                    <ng-container
                      *ngTemplateOutlet="playerInfoCardContent;context:{ title: ('Shared_Module2.Position' | translate), value: playerData?.positionname }">
                    </ng-container>
                    <ng-container
                      *ngTemplateOutlet="playerInfoCardContent;context:{ title:  ('Shared_Module2.Height' | translate), value: playerData?.height }">
                    </ng-container>
                    <ng-container
                      *ngTemplateOutlet="playerInfoCardContent;context:{ title: ('Shared_Module2.Weight' | translate), value: playerData?.weight }">
                    </ng-container>
                  </div>
                  <!-- <div class="info-col">
                        <p class="light-title">jersey no</p>
                        <p>{{playerData?.jerseyno}}</p>
                      </div> -->
                </div>
              </section>

              <section class="player-profile d-flex" *ngIf="sport == 'soccer'">
                <div class="player-pic">
                  <img class="common-shadow rounded-box" alt="" [lazyLoad]="playerData?.player?.id | playerimage:['m']"
                    [offset]="commonService.lazyloadoffset" [defaultImage]="cricketService.playerplaceholder">
                </div>
                <div class="player-info d-flex common-shadow rounded-box" *ngIf="playerData?.player">
                  <div class="info-col">
                    <ng-container
                      *ngTemplateOutlet="playerInfoCardContent;context:{ title: ('Contact_us.Full_Name' | translate), value:playerData?.player.name | split}">
                    </ng-container>
                    <ng-container
                      *ngTemplateOutlet="playerInfoCardContent;context:{ title: ('Shared_Module2.Born' | translate), value: playerData?.player?.date_of_birth | date }">
                    </ng-container>
                    <ng-container
                      *ngTemplateOutlet="playerInfoCardContent;context:{ title: ('Shared_Module2.Nationality' | translate), value: playerData?.player?.nationality }">
                    </ng-container>
                  </div>
                  <div class="info-col">
                    <ng-container
                      *ngTemplateOutlet="playerInfoCardContent;context:{ title: ('Shared_Module2.Position' | translate), value: playerData?.player?.type }">
                    </ng-container>
                    <ng-container
                      *ngTemplateOutlet="playerInfoCardContent;context:{ title: ('Shared_Module2.Height' | translate), value: playerData?.player?.height + ' ' +'cm' }">
                    </ng-container>
                    <ng-container
                      *ngTemplateOutlet="playerInfoCardContent;context:{ title: ('Shared_Module2.Weight' | translate), value: playerData?.player?.weight + ' ' +'kg' }">
                    </ng-container>
                  </div>
                </div>
              </section>


              <section class="common-section top-padding quick-stats" *ngIf="stats">
                <h4>{{ 'Shared_module.quick_stats' | translate }}</h4>
                <ng-container *ngTemplateOutlet="quickStateCard;context:{ stats:stats}">
                </ng-container>
              </section>
              <section class="common-section top-padding" *ngIf="stats && sport == 'cricket'">
                <h4>{{ 'Shared_module.major_teams' | translate }}</h4>
                <app-team-card [teams]="playerData?.teams" [sport]="sport"></app-team-card>
              </section>
              <section class="common-section top-padding" *ngIf="sport == 'soccer'">
                <h4>{{ 'Shared_module.major_teams' | translate }}</h4>
                <app-team-card [teams]="playerData?.roles" [sport]="sport" [type]="'player'"
                  *ngIf="playerData?.roles && playerData?.roles?.length > 0"></app-team-card>
                <app-team-card [teams]="playerData?.competitors" [sport]="sport"
                  *ngIf="!(playerData?.roles && playerData?.roles?.length > 0)"></app-team-card>
              </section>
            </ng-template>
          </ngb-tab>

          <!-- Stats Section-->
          <ngb-tab *ngIf="sport == 'cricket'">
            <ng-template ngbTabTitle>{{ 'widgetModule.Stats' | translate }}</ng-template>
            <ng-template ngbTabContent>
              <!--  titles : ['Game type', 'MAT', 'INN', 'R', 'AVG', 'SR', 'HS', '100s', '<span class=\'game-card green\'></span>', '<span class=\'game-card yellow\'></span>', '<span class=\'game-card red\'></span>' ],
                    -->
              <app-player-table *ngIf="playerData?.statistics" [data]="battingdata" [options]="{
                  titles : [('Shared_Module2.Game_type' | translate), 'MAT', 'INN', 'R', 'AVG', 'SR', 'HS', '100s', '50s', '4s', '6s'],
                  values : ['type', 'matches', 'innings', 'runs', 'average', 'strike_rate', 'highest_score', 'hundreds', 'fifties', 'fours', 'sixes'],
                    subParams : 'batting',
                    header_title:('Shared_Module2.Batting_Stats' | translate),
                    class : ['player-state'],
                    class_light_row : ['light-row'],
                    sport:'cricket'
                  }">
              </app-player-table>

              <app-player-table *ngIf="playerData?.statistics" [data]="bowlingdata" [options]=" {
                  titles : [('Shared_Module2.Game_type' | translate), 'MAT', 'INN', 'OV', 'Maiden', 'R', 'W', 'AVG', 'SR', 'Eco', '5Ws', '10Ws'],
                  values : ['type', 'matches', 'innings', 'overs', 'maidens', 'runs', 'wickets', 'average', 'strike_rate', 'economy', 'five_wicket_hauls', 'ten_wicket_hauls'],
                  subParams : 'bowling',
                  header_title:('Shared_Module2.Bowling_Stats' | translate),
                  class : ['player-state'],
                  class_light_row : ['light-row'],
                  sport:'cricket'
                }">
              </app-player-table>
            </ng-template>
          </ngb-tab>

          <!-- News Section-->
          <ngb-tab>
            <ng-template ngbTabTitle>{{ 'Shared_module.news' | translate }}</ng-template>
            <ng-template ngbTabContent>
              <app-blog-list *ngIf="paramArticle" [options]="paramArticle">
              </app-blog-list>
            </ng-template>
          </ngb-tab>
        </ngb-tabset>
      </div>
      <div class="sidebar-col">
        <div class="sticky-sidebar">
          <app-custom-ads-widget [type]="'Banner'"></app-custom-ads-widget>
          <app-sidebar-links *ngIf="sport != 'kabaddi'" [sport]="'Cricket'" [link_type]="'tournament'"
            [options]="{type: 'current', title:('Cricket_Module.Current_Series' | translate)}"></app-sidebar-links>

          <!-- <app-common-story-widget [title]="'Current Series'" [type]="'cricketseries'" [data]="'cricketseries'">
          </app-common-story-widget> -->
          <app-custom-ads-widget [type]="'Rectangle'"></app-custom-ads-widget>
        </div>
      </div>
    </div>
  </div>
</section>

<ng-template #quickStateCard let-stats="stats">
  <div class="row row-size12">
    <div class="col-md-4" *ngFor="let stat of stats">
      <div class="common-shadow rounded-box stat-item">
        <h1>{{stat.data}}</h1>
        <p>{{stat.key}}</p>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #playerInfoCardContent let-value="value" let-title="title">
  <div class="info-item" *ngIf="value">
    <p class="light-title">{{title}}</p>
    <p>{{value }}</p>
  </div>
</ng-template>