<section class="common-section cricket-recentnews recentnews-section">
  <div class="container">
    <div class="row sidebar-row">
      <div class="content-col">
        <div class="common-title-btn big-title-btn tab-title-btn d-flex justify-content-between align-items-center">
          <h1>{{tournamentname ? tournamentname : ''}}</h1>
          <button class="add-to-fav-btn added"><span>Add to favorites</span></button>
        </div>
        <ngb-tabset class="common-tabs">
            <ngb-tab title="Recommended">
              <ng-template ngbTabContent>
                <div class="popular-main-item common-shadow" *ngFor="let post of populararticles | slice:0:1" >
                  <div class="item-img common-zoom-container" [ngClass]="{'common-news-video': post.eType == 'Video'}" (click)="blogview(post._id,post.eType,post.sTitle)">
                    <div class="common-zoom-img" [lazyLoad]="post.sImage | resizeImage:['m']">
                    </div>
                  </div>
                  <div class="blog-desc">
                    <h4><a (click)="blogview(post._id,post.eType,post.sTitle)">{{post.sTitle}}</a></h4>
                    <p [innerHtml]="post.sDescription | truncate:[240,'...']" (click)="blogview(post._id,post.eType,post.sTitle)"></p>
                    <div class="author-info d-flex justify-content-between align-items-center">
                      <p class="author"><a>{{post.iId.sFirstName}}
                          {{post.iId.sLastName}}</a>{{post.dUpdatedAt | amFromUtc | amLocal | amTimeAgo}}</p>
                      <p class="view">{{post.nViewCounts}}</p>
                    </div>
                  </div>
                </div>
                <div class="common-popular-list popular-list-4">
                  <div class="row row-size12">
                    <div class="col-sm-6 col-xl-3" *ngFor="let post of populararticles | slice:1:5">
                      <div class="popular-item common-shadow">
                        <div class="img-block common-zoom-container"
                          [ngClass]="{'common-news-video': post.eType == 'Video'}" (click)="blogview(post._id,post.eType,post.sTitle)">
                          <div class="common-zoom-img" [lazyLoad]="post.sImage | resizeImage:['s']"></div>
                        </div>
                        <div class="item-desc">
                          <p class="bold-text"><a (click)="blogview(post._id,post.eType,post.sTitle)">{{post.sTitle | truncate:[56,'...']}}</a></p>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="ad-block"><img src="../../../assets/images/ad-1320-300.jpg" alt="AD"></div>
                <div class="common-news-list">
                  <div class="common-news-item d-flex common-shadow" *ngFor="let post of populararticles | slice:5:9">
                    <div class="common-news-img common-zoom-container"
                      [ngClass]="{'common-news-video': post.eType == 'Video'}" (click)="blogview(post._id,post.eType,post.sTitle)">
                      <div class="common-zoom-img" [lazyLoad]="post.sImage | resizeImage:['s']">
                      </div>
                    </div>
                    <div class="common-news-desc">
                      <div class="news-excerpt">
                        <h5><a (click)="blogview(post._id,post.eType,post.sTitle)">{{post.sTitle}}</a></h5>
                    <p [innerHtml]="post.sDescription | truncate:[240,'...']"></p>
                       
                      </div>
                      <div class="author-info d-flex justify-content-between align-items-center">
                        <p class="author"><a>{{post.iId.sFirstName}}
                            {{post.iId.sLastName}}</a>{{post.dUpdatedAt | amFromUtc | amLocal | amTimeAgo}}</p>
                        <p class="view">{{post.nViewCounts}}</p>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="text-center"><button class="theme-btn down-btn">Load More<span></span></button></div>
              </ng-template>
            </ngb-tab>
            <!--Latest Article Tab-->
            <ngb-tab>
              <ng-template ngbTabTitle>
                <div (click)="getRecentPosts()">Latest</div>
              </ng-template>
              <ng-template ngbTabContent>
                <div class="common-news-list">
                  <div class="common-news-item d-flex common-shadow" *ngFor="let post of latestposts | slice:0:5">
                    <div class="common-news-img common-zoom-container"
                      [ngClass]="{'common-news-video': post.eType == 'Video'}" (click)="blogview(post._id,post.eType,post.sTitle)">
                      <div class="common-zoom-img" [lazyLoad]="post.sImage | resizeImage:['s']">
                      </div>
                    </div>
                    <div class="common-news-desc">
                      <div class="news-excerpt">
                        <h5><a (click)="blogview(post._id,post.eType,post.sTitle)">{{post.sTitle}}</a></h5>
                    <p [innerHtml]="post.sDescription | truncate:[240,'...']" (click)="blogview(post._id,post.eType,post.sTitle)"></p>
                      </div>
                      <div class="author-info d-flex justify-content-between align-items-center">
                        <p class="author"><a>{{post.iId.sFirstName}}
                            {{post.iId.sLastName}}</a>{{post.dUpdatedAt | amFromUtc | amLocal | amTimeAgo}}</p>
                        <p class="view">{{post.nViewCounts}}</p>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="text-center"><button class="theme-btn down-btn">Load More<span></span></button></div>
              </ng-template>
            </ngb-tab>
            <!--Videos tab start-->
            <ngb-tab>
              <ng-template ngbTabTitle>
                <div (click)="getVideoPosts()">Videos</div>
              </ng-template>
              <ng-template ngbTabContent>
                <div class="common-news-list">
                  <div class="common-news-item d-flex common-shadow" *ngFor="let video of popularvideos | slice:0:5">
                    <div class="common-news-img common-zoom-container common-news-video" (click)="blogview(video._id,video.eType,video.sTitle)">
                      <div class="common-zoom-img" [lazyLoad]="video.sImage | resizeImage:['s']">
                      </div>
                    </div>
                    <div class="common-news-desc">
                      <div class="news-excerpt">
                        <h5><a (click)="blogview(video._id,video.eType,video.sTitle)">{{video.sTitle}}</a></h5>
                        <p [innerHtml]="video.sDescription | truncate:[240,'...']" (click)="blogview(video._id,video.eType,video.sTitle)"></p>
                      </div>
                      <div class="author-info d-flex justify-content-between align-items-center">
                        <p class="author"><a>{{video.iId.sFirstName}}
                            {{video.iId.sLastName}}</a>{{video.dUpdatedAt | amFromUtc | amLocal | amTimeAgo}}</p>
                        <p class="view">{{video.nViewCounts}}</p>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="text-center"><button class="theme-btn down-btn">Load More<span></span></button></div>
              </ng-template>
            </ngb-tab>
          </ngb-tabset>
      </div>
      <div class="sidebar-col">
        <div class="sticky-sidebar">
          <div class="ad-block"><img src="../../../assets/images/ad-320-80.jpg" alt="AD"></div>
          <div class="ad-block"><img src="../../../assets/images/ad-320-267.jpg" alt="AD"></div>
          <!--Points table widget-->
          <app-pointstable-widget *ngIf="tournamentid" [tournamentId]="tournamentid"></app-pointstable-widget>
          <div class="common-stories-widget common-shadow rounded-box">
            <h5>Teams</h5>
            <ul class="common-list">
              <li *ngFor="let item of teamsname | slice:0:5"><a>{{item.name}}</a></li>
            </ul>
          </div>
          <div class="common-widget tab-widget">
            <div class="widget-title">
              <h5>Cricket</h5>
            </div>
            <ngb-tabset class="common-tabs">
              <ngb-tab>
                <ng-template ngbTabTitle>Batting</ng-template>
                <ng-template ngbTabContent>
                  <ul class="common-list player-score-list">
                    <li class="top-player d-flex" *ngFor="let item of battingleaders | slice:0:1">
                      <img src="../../../../../assets/images/jasprit-bumrah.jpg" alt="player">
                      <div class="top-player-inner">
                        <p class="num">{{item.rank}}.</p>
                        <div class="player-names">
                          <p class="name">{{item.player.name | split}}</p>
                          <p class="team">{{item.team.abbreviation}}</p>
                        </div>
                        <div class="player-score">
                          <h3>{{item.total}}</h3>
                          <p class="score-property">Runs</p>
                        </div>
                      </div>
                    </li>
                    <li class="common-player d-flex justify-content-between align-items-center"
                      *ngFor="let item of battingleaders | slice:1:10">
                      <p class="num">{{item.rank}}.</p>
                      <div class="player-names">
                        <p class="name">{{item.player.name | split }}</p>
                        <p class="team">{{item.team.abbreviation}}</p>
                      </div>
                      <div class="player-score">
                        <h3>{{item.total}}</h3>
                        <p class="score-property">Runs</p>
                      </div>
                    </li>
                    <li><button>View all</button></li>
                  </ul>
                </ng-template>
              </ngb-tab>
              <ngb-tab>
                <ng-template ngbTabTitle>Bowling</ng-template>
                <ng-template ngbTabContent>
                  <ul class="common-list player-score-list">
                    <li class="top-player d-flex" *ngFor="let item of bowlingleaders | slice:0:1">
                      <img src="../../../../../assets/images/jasprit-bumrah.jpg" alt="player">
                      <div class="top-player-inner">
                        <p class="num">{{item.rank}}.</p>
                        <div class="player-names">
                          <p class="name">{{item.player.name | split}}</p>
                          <p class="team">{{item.team.abbreviation}}</p>
                        </div>
                        <div class="player-score">
                          <h3>{{item.total}}</h3>
                          <p class="score-property">wickets</p>
                        </div>
                      </div>
                    </li>
                    <li class="common-player d-flex justify-content-between align-items-center"
                      *ngFor="let item of bowlingleaders | slice:1:10">
                      <p class="num">{{item.rank}}.</p>
                      <div class="player-names">
                        <p class="name">{{item.player.name | split}}</p>
                        <p class="team">{{item.team.abbreviation}}</p>
                      </div>
                      <div class="player-score">
                        <h3>{{item.total}}</h3>
                        <p class="score-property">wickets</p>
                      </div>
                    </li>
                    <li><button>View all</button></li>
                  </ul>
                </ng-template>
              </ngb-tab>
            </ngb-tabset>
          </div>
          <div class="ad-block"><img src="../../../assets/images/ad-320-80.jpg" alt="AD"></div>
        </div>
      </div>
    </div>
  </div>
</section>
